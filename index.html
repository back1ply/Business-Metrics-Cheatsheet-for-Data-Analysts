<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Metrics Cheatsheet for Data Analysts</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23191919' width='100' height='100' rx='12'/><rect fill='%232eaadc' x='15' y='55' width='15' height='30' rx='2'/><rect fill='%232eaadc' x='42.5' y='35' width='15' height='50' rx='2'/><rect fill='%232eaadc' x='70' y='20' width='15' height='65' rx='2'/><polyline fill='none' stroke='%23e03e3e' stroke-width='4' stroke-linecap='round' stroke-linejoin='round' points='15,50 35,40 55,45 85,15'/><circle fill='%23e03e3e' cx='85' cy='15' r='5'/></svg>">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Drop Zone (shown when fetch fails locally) -->
    <div id="dropZone" class="drop-zone" style="display: none; max-width: 500px; margin: 100px auto;">
        <h3>Local Mode</h3>
        <p>Drag &amp; drop <strong>BMC_DB.csv</strong> here, or click to browse</p>
        <input type="file" id="fileInput" accept=".csv">
        <label for="fileInput">Select CSV File</label>
    </div>

    <!-- Main Content -->
    <div id="mainContent">
        <header class="header">
            <h1>Business Metrics Cheatsheet</h1>
            <p>A comprehensive reference for data analysts</p>
        </header>

        <div class="toolbar">
            <div class="view-tabs">
                <button class="view-tab active" data-view="table">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M3 12h18M3 18h18"/></svg>
                    Table
                </button>
                <button class="view-tab" data-view="card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
                    Cards
                </button>
            </div>

            <div class="dropdown" id="groupDropdown">
                <button class="dropdown-btn" id="groupBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                    <span>Group</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="dropdown-menu" id="groupMenu">
                    <div class="dropdown-item" data-group="">None</div>
                    <div class="dropdown-item" data-group="Industry">Industry</div>
                    <div class="dropdown-item" data-group="Category (Industry Specific or Team)">Category</div>
                    <div class="dropdown-item" data-group="Stakeholder Team">Stakeholder</div>
                </div>
            </div>

            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                <input type="text" class="search-input" placeholder="Search metrics..." id="searchInput">
            </div>

            <span class="count-badge" id="countBadge">0 metrics</span>
        </div>

        <main class="content">
            <div class="table-wrapper" id="tableView">
                <div class="table-scroll">
                    <table>
                        <thead id="tableHead"></thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </div>

            <div class="card-grid" id="cardView" style="display: none;"></div>
        </main>
    </div>

    <!-- Detail Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <button class="modal-close" id="modalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20"><path d="M18 6L6 18M6 6l12 12"/></svg>
            </button>
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <div class="modal-tags" id="modalTags"></div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
